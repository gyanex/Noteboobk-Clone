{"version":3,"file":"index.js","names":["value: T","fn: () => R"],"sources":["../src/async-context/index.ts"],"sourcesContent":["import { AsyncLocalStorage } from \"node:async_hooks\";\n\nclass AsyncVariable<T> {\n  als = new AsyncLocalStorage<T>();\n\n  get(): T | undefined {\n    return this.als.getStore();\n  }\n\n  run<R>(value: T, fn: () => R): R {\n    return this.als.run(value, fn);\n  }\n}\n\nexport class AsyncContext {\n  static Variable = AsyncVariable;\n}\n"],"mappings":";;;AAEA,IAAM,gBAAN,MAAuB;CACrB,MAAM,IAAI;CAEV,MAAqB;AACnB,SAAO,KAAK,IAAI,UAAU;CAC3B;CAED,IAAOA,OAAUC,IAAgB;AAC/B,SAAO,KAAK,IAAI,IAAI,OAAO,GAAG;CAC/B;AACF;AAED,IAAa,eAAb,MAA0B;CACxB,OAAO,WAAW;AACnB"}