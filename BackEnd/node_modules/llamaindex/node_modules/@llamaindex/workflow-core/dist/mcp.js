import { runWorkflow } from "./run-25vavBMH.js";
import { AsyncContext } from "@llamaindex/workflow-core/async-context";

//#region src/mcp.ts
const requestHandlerExtraAsyncLocalStorage = new AsyncContext.Variable();
const getReqHandlerExtra = () => {
	const extra = requestHandlerExtraAsyncLocalStorage.get();
	if (!extra) throw new Error("Request handler extra not set");
	return extra;
};
function mcpTool(workflow, start, stop) {
	return async (args, extra) => requestHandlerExtraAsyncLocalStorage.run(extra, async () => {
		const { data } = await runWorkflow(workflow, start.with(args), stop);
		return data;
	});
}

//#endregion
export { getReqHandlerExtra, mcpTool };
//# sourceMappingURL=mcp.js.map