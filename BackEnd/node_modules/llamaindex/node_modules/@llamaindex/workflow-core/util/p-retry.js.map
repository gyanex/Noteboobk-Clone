{"version":3,"file":"p-retry.js","names":["handler: Handler<AcceptEvents, Result, Context>","options: Options"],"sources":["../src/util/p-retry.ts"],"sourcesContent":["import type {\n  Handler,\n  WorkflowContext,\n  WorkflowEvent,\n} from \"@llamaindex/workflow-core\";\nimport type { Options } from \"p-retry\";\nimport pRetry from \"p-retry\";\n\nexport function pRetryHandler<\n  const AcceptEvents extends WorkflowEvent<any>[],\n  Result extends ReturnType<WorkflowEvent<any>[\"with\"]> | void,\n  Context extends WorkflowContext = WorkflowContext,\n>(\n  handler: Handler<AcceptEvents, Result, Context>,\n  options: Options,\n): Handler<AcceptEvents, Result, Context> {\n  return async (context, ...events) => {\n    const fn = () => handler(context, ...events);\n    return pRetry(fn, options);\n  };\n}\n"],"mappings":";;;AAQA,SAAgB,cAKdA,SACAC,SACwC;AACxC,QAAO,OAAO,SAAS,GAAG,WAAW;EACnC,MAAM,KAAK,MAAM,QAAQ,SAAS,GAAG,OAAO;AAC5C,SAAO,OAAO,IAAI,QAAQ;CAC3B;AACF"}